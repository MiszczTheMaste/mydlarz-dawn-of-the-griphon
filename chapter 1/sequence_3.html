<!DOCTYPE html>
<html>
	<head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
        <meta charset="UTF-8">
        <link rel="stylesheet" type="text/css" href="../style/reset.css">
		<link rel="stylesheet" type="text/css" href="../style/crt.css">
		<link rel="stylesheet" type="text/css" href="../style/write.css">
		<link rel="stylesheet" type="text/css" href="../style/generalSequence.css">
		<script src="../char/traits.js"></script>
	</head>

	<body onkeydown="skip(event)">
        <div id="dialogBox" style="width: 100vw; height: 100vh">
            <p>I took a map from my pocket</p>
			<p>It was protected better than me, from</p>
			<p><span style="color:#8b0000">external threats</span></p>
			<p><span class='button' onclick='next()'>Look at the map</span></p>
        </div>
	</body>
	<script>
		var dialogBox = document.querySelector("#dialogBox");
		var textObject = document.getElementsByTagName("p");
		textObject[0].style.animation = "type "+(String(textObject[0]).length/10)*1+"s steps(60, end)";
		var index = 0;
		function skip(key){
			if(key.keyCode == 27)
			{
				textObject[index].style.display = "inline-block";
				textObject[index].style.animation = 'typeEnd';
			}
		}
		function kutas(){
		   index++;
		   textObject[index].style.display = "inline-block";
		   textObject[index].style.animation = "type "+(String(textObject[index]).length/10)*1+"s steps(60, end)";
		   textObject[index].addEventListener("animationend",kutas);
	   	}
		textObject[index].addEventListener("animationend",kutas);
		function next()
		{
			dialogBox.innerHTML = "";
			dialogBox.innerHTML += "<p style='font-style:italic'>Map contained maze made of steets</p>";
			dialogBox.innerHTML += "<p style='font-style:italic'>their names mingled</p>";
			dialogBox.innerHTML += "<p style='font-style:italic'>Some of them were circled in red</p>";
			dialogBox.innerHTML += "<p><span style='color:#CDAD00'>enemy</span> <span style='color:#8b0000'>resistance</span>,</p>";
			dialogBox.innerHTML += "<p>not so far away</p>";
			dialogBox.innerHTML += "<p><span class='button' onclick='next2()'>Thatâ€™s where I need to go</span></p>";
			textObject = document.getElementsByTagName("p");
			textObject[0].style.animation = "type "+(String(textObject[0]).length/10)*1+"s steps(60, end)";
			index = 0;
			textObject[index].addEventListener("animationend",kutas);
		}
		function next2()
		{
			dialogBox.innerHTML = "";
			dialogBox.innerHTML += "<p>I have put my map in my pocket</p>";
			dialogBox.innerHTML += "<p>I have to be careful</p>";
			dialogBox.innerHTML += "<p>This sheet of paper is worth more than my uniform</p>";
			dialogBox.innerHTML += "<p>Nightfall has come</p>";
			dialogBox.innerHTML += "<p><a href='sequence_4.html'>Forward</a></p>";
			textObject = document.getElementsByTagName("p");
			textObject[0].style.animation = "type "+(String(textObject[0]).length/10)*1+"s steps(60, end)";
			index = 0;
			textObject[index].addEventListener("animationend",kutas);
		}
	</script>
</html>
