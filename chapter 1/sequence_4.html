<!DOCTYPE html>
<html>
	<head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
        <meta charset="UTF-8">
        <link rel="stylesheet" type="text/css" href="../style/reset.css">
		<link rel="stylesheet" type="text/css" href="../style/crt.css">
		<link rel="stylesheet" type="text/css" href="../style/write.css">
		<link rel="stylesheet" type="text/css" href="../style/generalSequence.css">
		<script src="../char/traits.js"></script>
	</head>

	<body onkeydown="skip(event)">
        <div id="dialogBox" style="width: 100vw; height: 100vh">
            <p><span style='font-style: italic;'><span style='color:#0000fa'>Some time</span> later</span></p>
			<p>I'm close to <span style="color: #cdad00">enemy</span> positions</p>
			<p>Everything seems so quiet</p>
			<p>Somewhere around should be one of my <span style="color: #8b0000">targets</span></p>
			<p><span class='button' onclick='next()'>But where</span></p>
        </div>
	</body>
	<script>
		var dialogBox = document.querySelector("#dialogBox");
		var textObject = document.getElementsByTagName("p");
		textObject[0].style.animation = "type "+(String(textObject[0]).length/10)*1+"s steps(60, end)";
		var index = 0;
		function skip(key){
			if(key.keyCode == 27)
			{
				textObject[index].style.display = "inline-block";
				textObject[index].style.animation = 'typeEnd';
			}
		}
		function kutas(){
		   index++;
		   textObject[index].style.display = "inline-block";
		   textObject[index].style.animation = "type "+(String(textObject[index]).length/10)*1+"s steps(60, end)";
		   textObject[index].addEventListener("animationend",kutas);
	   	}
		textObject[index].addEventListener("animationend",kutas);
		function next()
		{
			dialogBox.innerHTML = "";
			dialogBox.innerHTML += "<p>Next to me is a small building</p>";
			dialogBox.innerHTML += "<p>with open doors</p>";
			dialogBox.innerHTML += "<p><span class='button' onclick='next2()'>Standing on the street isn't wise</span></p>";
			textObject = document.getElementsByTagName("p");
			textObject[0].style.animation = "type "+(String(textObject[0]).length/10)*1+"s steps(60, end)";
			index = 0;
			textObject[index].addEventListener("animationend",kutas);
		}
		function next2()
		{
			dialogBox.innerHTML = "";
			dialogBox.innerHTML += "<p>I entered the building</p>";
			dialogBox.innerHTML += "<p>with finger on the <span style='color: #8b0000'>trigger</span></p>";
			dialogBox.innerHTML += "<p>It turned out it was a single room</p>";
			dialogBox.innerHTML += "<p><span class='button' onclick='next3()'>Better to check every corner</span></p>";
			textObject = document.getElementsByTagName("p");
			textObject[0].style.animation = "type "+(String(textObject[0]).length/10)*1+"s steps(60, end)";
			index = 0;
			textObject[index].addEventListener("animationend",kutas);
		}
		function next3()
		{
			dialogBox.innerHTML = "";
			dialogBox.innerHTML += "<p><span style='font-style: italic'>Tables, chairs,</span></p>";
			dialogBox.innerHTML += "<p><span style='font-style: italic'>plates, cutlery</span></p>";
			dialogBox.innerHTML += "<p><span style='font-style: italic'>Open kitchen in the center</span></p>";
			dialogBox.innerHTML += "<p><span style='font-style: italic'>Left in disorder</span></p>";
			dialogBox.innerHTML += "<p><span class='button' onclick='next4()'>Just a small restaurant</span></p>";
			textObject = document.getElementsByTagName("p");
			textObject[0].style.animation = "type "+(String(textObject[0]).length/10)*1+"s steps(60, end)";
			index = 0;
			textObject[index].addEventListener("animationend",kutas);
		}
		function next4()
		{
			dialogBox.innerHTML = "";
			dialogBox.innerHTML += "<p>When I walked to the table</p>";
			dialogBox.innerHTML += "<p>Fatigue striked me</p>";
			dialogBox.innerHTML += "<p>It's <span style='color:#0000fa'>middle of the night</span></p>";
			dialogBox.innerHTML += "<p><span class='button' onclick='next5()'>Let me sit for a while</span></p>";
			textObject = document.getElementsByTagName("p");
			textObject[0].style.animation = "type "+(String(textObject[0]).length/10)*1+"s steps(60, end)";
			index = 0;
			textObject[index].addEventListener("animationend",kutas);
		}
		function next5()
		{
			dialogBox.innerHTML = "";
			dialogBox.innerHTML += "<p>The chair is <span style='color:#ff4500'>comfy</span></p>";
			dialogBox.innerHTML += "<p><span style='color:#556B2F'>High command</span> gave me some intel</p>";
			dialogBox.innerHTML += "<p>about my <span style='color:#8b0000'>mission</span></p>";
			dialogBox.innerHTML += "<p><a class='button' href='sequence_5.html'>They marked it on the map</span></p>";
			textObject = document.getElementsByTagName("p");
			textObject[0].style.animation = "type "+(String(textObject[0]).length/10)*1+"s steps(60, end)";
			index = 0;
			textObject[index].addEventListener("animationend",kutas);
		}
	</script>
</html>
